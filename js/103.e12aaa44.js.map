{"version":3,"file":"js/103.e12aaa44.js","mappings":"yGAAe,WAASA,GAAG,MAAM,CAACC,IAAID,EAAEA,GAAG,IAAIE,IAAIC,GAAG,SAASC,EAAEC,GAAG,IAAIC,EAAEN,EAAEO,IAAIH,GAAGE,EAAEA,EAAEE,KAAKH,GAAGL,EAAES,IAAIL,EAAE,CAACC,KAAKK,IAAI,SAASN,EAAEC,GAAG,IAAIC,EAAEN,EAAEO,IAAIH,GAAGE,IAAID,EAAEC,EAAEK,OAAOL,EAAEM,QAAQP,KAAK,EAAE,GAAGL,EAAES,IAAIL,EAAE,MAAMS,KAAK,SAAST,EAAEC,GAAG,IAAIC,EAAEN,EAAEO,IAAIH,GAAGE,GAAGA,EAAEQ,QAAQC,KAAI,SAASf,GAAGA,EAAEK,OAAMC,EAAEN,EAAEO,IAAI,OAAOD,EAAEQ,QAAQC,KAAI,SAASf,GAAGA,EAAEI,EAAEC,Q,gCCEnT,MAAMW,EAAUC,IAChB,S,yFCEOC,MAAM,+C,GACJA,MAAM,4C,0KALbC,EAAAA,EAAAA,IAAeC,IAEfD,EAAAA,EAAAA,IAA2BE,IAE3BC,EAAAA,EAAAA,GAKM,MALN,EAKM,EAJJA,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJH,EAAAA,EAAAA,IAAYI,IACZJ,EAAAA,EAAAA,IAAcK,QAHlB,I,SCJON,MAAM,4D,GACNA,MAAM,yE,WACgC,W,GACzCI,EAAAA,EAAAA,GASS,UARPJ,MAAM,oDACNO,KAAK,SACL,iBAAe,WACf,iBAAe,aACf,gBAAc,YACd,gBAAc,QACd,aAAW,qBAPb,EAQEH,EAAAA,EAAAA,GAAyC,QAAnCJ,MAAM,0BARd,G,GAUKA,MAAM,2BAA2BQ,GAAG,a,GACnCR,MAAM,c,GACJA,MAAM,Y,WACkC,S,GAExCA,MAAM,Y,WACqC,Y,GAE3CA,MAAM,oB,WACiC,Q,GAI1CA,MAAM,oB,4HA1BbS,EAAAA,EAAAA,IA+BI,MA/BJ,EA+BI,EA9BJL,EAAAA,EAAAA,GA6BM,MA7BN,EA6BM,EA5BJH,EAAAA,EAAAA,IAA8DS,EAAA,CAAjDC,GAAG,IAAIX,MAAM,gBAA1B,C,kBAAyC,IAAO,M,MAChDY,GAUAR,EAAAA,EAAAA,GAYM,MAZN,EAYM,EAXJA,EAAAA,EAAAA,GAUK,KAVL,EAUK,EATHA,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHH,EAAAA,EAAAA,IAA6DS,EAAA,CAAhDC,GAAG,SAASX,MAAM,YAA/B,C,kBAA0C,IAAK,M,SAEjDI,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHH,EAAAA,EAAAA,IAAmES,EAAA,CAAtDC,GAAG,YAAYX,MAAM,YAAlC,C,kBAA6C,IAAQ,M,SAEvDI,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHH,EAAAA,EAAAA,IAA2DS,EAAA,CAA9CC,GAAG,QAAQX,MAAM,YAA9B,C,kBAAyC,IAAI,M,aAInDI,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJH,EAAAA,EAAAA,IAAcK,IACdL,EAAAA,EAAAA,IAAYI,S,uBC5BbL,MAAM,6B,SACJA,MAAM,U,SACJA,MAAM,Y,WACgD,M,GAEtDA,MAAM,Y,SAIRA,MAAM,0B,WACgD,M,0EAV7DS,EAAAA,EAAAA,IAYM,MAZN,EAYM,CAXsBI,EAAAA,WAAAA,EAAAA,EAAAA,OAA1BJ,EAAAA,EAAAA,IAOM,MAPN,EAOM,CANwBI,EAAAA,eAAAA,EAAAA,EAAAA,OAA5BJ,EAAAA,EAAAA,IAEM,MAFN,EAEM,EADJR,EAAAA,EAAAA,IAAyES,EAAA,CAA5DC,GAAG,SAASX,MAAM,2BAA/B,C,kBAAyD,IAAE,M,UAD7D,gBAGAI,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJA,EAAAA,EAAAA,GAA0E,KAAvEU,KAAK,IAAId,MAAM,0BAA2Be,QAAK,8BAAUC,EAAAA,QAAAA,EAAAA,UAAAA,IAAM,eAAE,aALxE,WAQAP,EAAAA,EAAAA,IAEM,MAFN,EAEM,EADJR,EAAAA,EAAAA,IAAyES,EAAA,CAA5DC,GAAG,SAASX,MAAM,2BAA/B,C,kBAAyD,IAAE,M,WAOjE,OACEiB,OACE,MAAO,CACLC,UAAU,EACVC,cAAc,IAGlBC,QAAS,CACPC,aACE,MAAMC,EAAQC,SAASC,OAAOC,QAC5B,iDAAkD,MAEhDH,IACFI,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAgBT,EACnDI,KAAKC,MACFK,KAAM,0DACNC,MAAK,KAEJP,KAAKR,UAAW,KAEjBgB,OAAOC,IACNC,QAAQC,IAAIF,OAIlBT,KAAKC,MACFtC,IACE,mEAEF4C,MAAK,KAEJP,KAAKP,cAAe,KAGrBe,OAAOC,IACNC,QAAQC,IAAIF,OAGlBG,SACEf,SAASC,OAAS,sBAClBe,MAAM,OACNb,KAAKR,UAAW,EAChBQ,KAAKP,cAAe,IAexBqB,UACEd,KAAKL,e,UCvET,MAAMoB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,Q,mBCLIrC,EAAAA,EAAAA,GAAoC,QAA9BJ,MAAM,cAAa,QAAI,G,GAC7BI,EAAAA,EAAAA,GAA0G,KAAvGJ,MAAM,qEAAqE0C,MAAA,sBAA9E,S,GACO1C,MAAM,iE,GAIZA,MAAM,8DAA8D,iBAAe,WAAW,iBAAe,mBAAmB0C,MAAA,oB,GACjItC,EAAAA,EAAAA,GAAoC,QAA9BJ,MAAM,cAAa,QAAI,G,GAC7BI,EAAAA,EAAAA,GAA0G,KAAvGJ,MAAM,qEAAqE0C,MAAA,sBAA9E,S,GACO1C,MAAM,iE,GAIVA,MAAM,kEAAkEQ,GAAG,mB,GAC9EJ,EAAAA,EAAAA,GAGM,OAHDJ,MAAM,kCAAgC,EACzCI,EAAAA,EAAAA,GAAY,UAAR,QACJA,EAAAA,EAAAA,GAAqL,UAA7KG,KAAK,SAASP,MAAM,gBAAgB,iBAAe,WAAW,iBAAe,mBAAmB2C,KAAK,SAAS,gBAAc,QAAQ,gBAAc,sBAF5J,G,SAIuC3C,MAAM,oB,WACf,sB,aAKvBA,MAAM,gBAAgB0C,MAAA,uB,GAClB1C,MAAM,S,GAKHI,EAAAA,EAAAA,GAAgC,OAA3BJ,MAAM,eAAa,S,mBAMpBA,MAAM,W,WACL,S,yBAMMA,MAAM,uB,YAMZ,S,IACCI,EAAAA,EAAAA,GAAI,mB,IACHJ,MAAM,mC,kGAoBpBA,MAAM,iB,YAAgB,S,IACfA,MAAM,uB,YAAiD,M,IAE9DA,MAAM,Y,IAEPI,EAAAA,EAAAA,GAAyI,UAAjIJ,MAAM,iBAAiB,iBAAe,WAAW,iBAAe,oBAAxE,UAA2F,SAAII,EAAAA,EAAAA,GAAiC,KAA9BJ,MAAM,wBAAxG,G,+FA7ERC,EAAAA,EAAAA,IAMcS,EAAA,CANDC,GAAG,QAAQX,MAAM,sDAAsD0C,MAAA,oBAApF,C,kBACE,IAAoC,CAApCE,EACAC,GACAzC,EAAAA,EAAAA,GAEQ,QAFR,GAEQ0C,EAAAA,EAAAA,IADHjC,EAAAA,SAASkC,MAAMC,QAAM,M,OAG5B5C,EAAAA,EAAAA,GAMI,IANJ,EAMI,CALF6C,EACAC,GACA9C,EAAAA,EAAAA,GAEQ,QAFR,GAEQ0C,EAAAA,EAAAA,IADHjC,EAAAA,SAASkC,MAAMC,QAAM,MAG5B5C,EAAAA,EAAAA,GAmEM,MAnEN,EAmEM,CAlEJ+C,EAIgC,GAArBtC,EAAAA,SAASkC,MAAMC,SAAM,WAAhCvC,EAAAA,EAAAA,IAIM,MAJN,EAIM,EAHJR,EAAAA,EAAAA,IAEcS,EAAA,CAFDC,GAAG,aAAW,C,kBAAC,IAE5B,M,WAHF,WAKAF,EAAAA,EAAAA,IAwDM,MAAA2C,EAAA,EAvDJhD,EAAAA,EAAAA,GA8CM,MA9CN,EA8CM,EA7CJA,EAAAA,EAAAA,GA4CQ,QA5CR,EA4CQ,EA3CNA,EAAAA,EAAAA,GA0CQ,6BAzCNK,EAAAA,EAAAA,IAwCK4C,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAxCczC,EAAAA,SAASkC,OAAjBQ,K,WAAX9C,EAAAA,EAAAA,IAwCK,MAxC+B+C,IAAKD,EAAK/C,GAAIiD,OAAO,OAAzD,EACErD,EAAAA,EAAAA,GAKK,YAJHH,EAAAA,EAAAA,IAGcS,EAAA,CAHAC,GAAE,YAAc4C,EAAKG,QAAQlD,MAA3C,C,kBACE,IAAgC,CAAhCmD,GACAvD,EAAAA,EAAAA,GAA0E,OAApEwD,IAAKL,EAAKG,QAAQG,SAAWC,IAAKP,EAAKG,QAAQK,MAAON,OAAO,OAAnE,a,KAFF,gBAKFrD,EAAAA,EAAAA,GA2BK,YA1BHA,EAAAA,EAAAA,GAyBM,aAxBJA,EAAAA,EAAAA,GAAiD,KAAjD,GAAiD0C,EAAAA,EAAAA,IAA1BS,EAAKG,QAAQK,OAAK,IACzC3D,EAAAA,EAAAA,GAWM,cATQmD,EAAKG,QAAQM,QAAQT,EAAKG,QAAQO,eAAAA,EAAAA,EAAAA,OAA9CxD,EAAAA,EAAAA,IAEO,OAAAyD,GAAApB,EAAAA,EAAAA,IADFS,EAAKS,OAAQ,MAClB,MAFA,WAGAvD,EAAAA,EAAAA,IAKO,OAAA0D,GAAA,EAJL/D,EAAAA,EAAAA,GAEQ,QAFR,GAEQ,EADNA,EAAAA,EAAAA,GAA4C,YAAA0C,EAAAA,EAAAA,IAApCS,EAAKG,QAAQO,cAAe,KAAE,MAExC7D,EAAAA,EAAAA,GAAuC,aAAA0C,EAAAA,EAAAA,IAA9BS,EAAKG,QAAQM,OAAQ,KAAE,SAGpC5D,EAAAA,EAAAA,GAUM,eATAgE,IACJhE,EAAAA,EAAAA,GAOM,MAPN,GAOM,EANJA,EAAAA,EAAAA,GAA4F,UAApFJ,MAAM,oBAAoBO,KAAK,SAAUQ,QAAK,GAAEC,EAAAA,eAAeuC,GAAI,IAAO,IAAC,EAAAc,KAM/E,SALJjE,EAAAA,EAAAA,GAG0C,SAHnCG,KAAK,SACJ+D,WAAW,oIACXtE,MAAM,e,yBAA+BuD,EAAKgB,IAAGC,EAC5CC,SAAM,GAAEzD,EAAAA,eAAeuC,EAAI,IAHpC,mBAE6CA,EAAKgB,SAAAA,EAAAA,C,QAArB,OAE7BnE,EAAAA,EAAAA,GAA2F,UAAnFJ,MAAM,oBAAoBO,KAAK,SAAUQ,QAAK,GAAEC,EAAAA,eAAeuC,EAAI,IAAM,IAAC,EAAAmB,aAK1FtE,EAAAA,EAAAA,GAIK,YAHHA,EAAAA,EAAAA,GAES,UAFDG,KAAK,SAASP,MAAM,gCAAiCe,QAAK,GAAEC,EAAAA,eAAeuC,EAAK/C,IAAMmE,SAAUC,EAAAA,gBAAgBrB,EAAK/C,IAAI,OAEjI,EAAAqE,WAtCJ,aA4CNzE,EAAAA,EAAAA,GAEM,MAFN,GAEM,KADAA,EAAAA,EAAAA,GAA6D,OAA7D,IAA6D0C,EAAAA,EAAAA,IAAxBjC,EAAAA,SAASiE,OAAK,GACnD,MACN1E,EAAAA,EAAAA,GAIM,MAJN,GAIM,EAHJH,EAAAA,EAAAA,IAEcS,EAAA,CAFDC,GAAG,QAAQX,MAAM,uBAA9B,C,kBACE,IAAyI,CAAzI+E,M,cA/DR,I,eAyEF,IACEC,KAAM,YAEN/D,OACE,MAAO,CACLgE,SAAU,CACRlC,MAAO,MAIb3B,QAAS,CACP8D,UACExD,KAAKC,MACFtC,IAAK,yDACL4C,MAAMkD,IAELzD,KAAKuD,SAAWE,EAASlE,KAAKA,QAE/BiB,OAAOC,IACNC,QAAQC,IAAIF,OAGlBiD,eAAgB5E,GACdkB,KAAK2D,cAAgB7E,EACrBkB,KAAKC,MACF2D,OAAQ,yDAAkE9E,KAC1EyB,MAAMkD,IACL5C,MAAM4C,EAASlE,KAAKsE,SACpB7D,KAAKwD,UACLxD,KAAK2D,cAAgB,MAEtBnD,OAAOC,IACNC,QAAQC,IAAIF,OAGlBqD,eAAgBjC,EAAMkC,GACpB,GAAIlC,EAAKgB,IAAMkB,IAAQ,EAErB,YADA/D,KAAK0D,eAAe7B,EAAK/C,IAG3B,GAAK+C,EAAKgB,IAAMkB,EAAO,GAAKlC,EAAKgB,IAAM,IAAM,EAE3C,YADAhC,MAAM,UAGR,MAAMtB,EAAO,CACXyE,WAAYnC,EAAK/C,GACjB+D,IAAKhB,EAAKgB,IAAMkB,GAElB/D,KAAK2D,cAAgB9B,EAAK/C,GAC1BkB,KAAKC,MACFgE,IAAK,yDAAkEpC,EAAK/C,KAAM,CAAES,KAAAA,IACpFgB,MAAMkD,IAELzD,KAAKwD,UACLxD,KAAK2D,cAAgB,MAEtBnD,OAAOC,IACNC,QAAQC,IAAIF,QAIpBK,UACEd,KAAKwD,UACLpF,GAAAA,EAAAA,GAAW,YAAY,KACrB4B,KAAKwD,eCnJX,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,UJiCA,IACEF,KAAM,cACNY,WAAY,CACVC,YADU,EAEVC,UAAAA,KKvCJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,KAEpE,UNWA,IACEF,WAAY,CACVG,YADU,GAEVF,YAFU,EAGVC,UAAAA,KOjBJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAASE,KAEpE","sources":["webpack://week6/./node_modules/mitt/dist/mitt.mjs","webpack://week6/./src/libs/emitter.js","webpack://week6/./src/views/FrontView.vue","webpack://week6/./src/components/FrontNavbar.vue","webpack://week6/./src/components/FrontMember.vue","webpack://week6/./src/components/FrontMember.vue?34df","webpack://week6/./src/components/FrontCart.vue","webpack://week6/./src/components/FrontCart.vue?26a0","webpack://week6/./src/components/FrontNavbar.vue?6e20","webpack://week6/./src/views/FrontView.vue?9526"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt'\r\n\r\nconst emitter = mitt()\r\nexport default emitter\r\n","<template>\r\n  <FrontNavbar />\r\n\r\n  <router-view></router-view>\r\n\r\n  <div class=\"d-lg-none position-sticky bottom-0 bg-light\">\r\n    <div class=\"container d-flex justify-content-between\">\r\n      <FrontCart/>\r\n      <FrontMember/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FrontNavbar from '@/components/FrontNavbar.vue'\r\nimport FrontMember from '@/components/FrontMember.vue'\r\nimport FrontCart from '@/components/FrontCart.vue'\r\n\r\nexport default {\r\n  components: {\r\n    FrontNavbar,\r\n    FrontMember,\r\n    FrontCart\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light sticky-top\">\r\n    <div class=\"container position-relative justify-content-center align-items-center\">\r\n      <router-link to=\"/\" class=\"navbar-brand\">Pet Pet</router-link>\r\n      <button\r\n        class=\"navbar-toggler position-absolute top-0 end-0 me-2\"\r\n        type=\"button\"\r\n        data-bs-toggle=\"collapse\"\r\n        data-bs-target=\"#navbarNav\"\r\n        aria-controls=\"navbarNav\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\">\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n        <ul class=\"navbar-nav\">\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/about\" class=\"nav-link\">About</router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/products\" class=\"nav-link\">Products</router-link>\r\n          </li>\r\n          <li class=\"nav-item me-auto\">\r\n            <router-link to=\"/cart\" class=\"nav-link\">Cart</router-link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"d-none d-lg-flex\">\r\n        <FrontMember/>\r\n        <FrontCart/>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n\r\n</template>\r\n\r\n<script>\r\nimport FrontMember from '@/components/FrontMember.vue'\r\nimport FrontCart from '@/components/FrontCart.vue'\r\n\r\nexport default {\r\n  name: 'FrontNavbar',\r\n  components: {\r\n    FrontMember,\r\n    FrontCart\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"d-flex align-items-center\">\r\n    <div class=\"d-flex\" v-if=\"loggedIn\">\r\n      <div class=\"nav-item\" v-if=\"checkSuccess\">\r\n        <router-link to=\"/admin\" class=\"nav-link link-secondary\">後台</router-link>\r\n      </div>\r\n      <div class=\"nav-item\">\r\n        <a href=\"#\" class=\"nav-link link-secondary\" @click.prevent=\"logOut\">登出</a>\r\n      </div>\r\n    </div>\r\n    <div class=\"nav-item border-danger\" v-else>\r\n      <router-link to=\"/Login\" class=\"nav-link link-secondary\">登入</router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      loggedIn: false,\r\n      checkSuccess: false\r\n    }\r\n  },\r\n  methods: {\r\n    checkAdmin () {\r\n      const token = document.cookie.replace(\r\n        /(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1'\r\n      )\r\n      if (token) {\r\n        this.$http.defaults.headers.common.Authorization = token\r\n        this.$http\r\n          .post(`${process.env.VUE_APP_API}/api/user/check`)\r\n          .then(() => {\r\n            // console.log('已登入')\r\n            this.loggedIn = true\r\n          })\r\n          .catch((error) => {\r\n            console.dir(error)\r\n          })\r\n      }\r\n      //  知道這個做法不符合原本的設定，但是想要模擬登入後，顧客和管理員有不同權限的情況\r\n      this.$http\r\n        .get(\r\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products`\r\n        )\r\n        .then(() => {\r\n          // console.log('有後台權限')\r\n          this.checkSuccess = true\r\n          // console.log(this.loggedIn, this.checkSuccess)\r\n        })\r\n        .catch((error) => {\r\n          console.dir(error)\r\n        })\r\n    },\r\n    logOut () {\r\n      document.cookie = 'hexToken=;expires=;'\r\n      alert('已登出')\r\n      this.loggedIn = false\r\n      this.checkSuccess = false\r\n\r\n      // this.$http.post(`${process.env.VUE_APP_API}/logout`)\r\n      //   .then((res) => {\r\n      //     alert(res.data.message)\r\n      //     this.loggedIn = false\r\n      //     this.checkAdmin()\r\n      //     this.getCart()\r\n      //   })\r\n      //   .catch((error) => {\r\n      //     // alert(error.data.message)\r\n      //     console.dir(error)\r\n      //   })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.checkAdmin()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./FrontMember.vue?vue&type=template&id=597cf6ef\"\nimport script from \"./FrontMember.vue?vue&type=script&lang=js\"\nexport * from \"./FrontMember.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Vue-Live-Week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <router-link to=\"/Cart\" class=\"d-lg-none nav-link position-relative link-secondary\" style=\"cursor: pointer\">\r\n    <span class=\"text-light\">Cart</span>\r\n    <i class=\"bi bi-cart-fill position-absolute top-50 start-50 translate-middle\" style=\"font-size: 2rem\"></i>\r\n    <small class=\"position-absolute top-50 start-50 translate-middle text-white\">\r\n      {{ cartData.carts.length }}\r\n    </small>\r\n  </router-link>\r\n  <a class=\"d-none d-lg-block nav-link position-relative link-secondary\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseExample\" style=\"cursor: pointer\">\r\n    <span class=\"text-light\">Cart</span>\r\n    <i class=\"bi bi-cart-fill position-absolute top-50 start-50 translate-middle\" style=\"font-size: 2rem\"></i>\r\n    <small class=\"position-absolute top-50 start-50 translate-middle text-white\">\r\n      {{ cartData.carts.length }}\r\n    </small>\r\n  </a>\r\n  <div class=\"collapse position-absolute top-100 end-0 bg-white shadow-sm p-3\" id=\"collapseExample\">\r\n    <div class=\"d-flex justify-content-between\">\r\n      <h5>購物車</h5>\r\n      <button type=\"button\" class=\"btn btn-close\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseExample\" role=\"button\" aria-expanded=\"false\" aria-controls=\"collapseExample\"></button>\r\n    </div>\r\n    <div v-if=\"cartData.carts.length == 0\" class=\"my-5 text-center\">\r\n      <router-link to=\"/products\">\r\n        購物車裡沒有東西！快去逛逛吧！！\r\n      </router-link>\r\n    </div>\r\n    <div v-else>\r\n      <div class=\"overflow-auto\" style=\"max-height: 50vh\">\r\n        <table class=\"table\">\r\n          <tbody>\r\n            <tr v-for=\"item in cartData.carts\" :key=\"item.id\" height=\"100\">\r\n              <td>\r\n                <router-link :to=\"`/product/${item.product.id}`\">\r\n                  <div class=\"w-100 h-100\" ></div>\r\n                  <img :src=\"item.product.imageUrl\" :alt=\"item.product.title\" height=\"100\" >\r\n                </router-link>\r\n              </td>\r\n              <td>\r\n                <div>\r\n                  <h6 class=\"fw-bold\">{{ item.product.title }}</h6>\r\n                  <div>\r\n                    價格：\r\n                    <span v-if=\"item.product.price===item.product.origin_price\">\r\n                      {{ item.price }} 元\r\n                    </span>\r\n                    <span v-else>\r\n                      <small class=\"text-secondary me-2\">\r\n                        <del>{{ item.product.origin_price }} 元</del>\r\n                      </small>\r\n                      <span>{{ item.product.price }} 元</span>\r\n                    </span>\r\n                  </div>\r\n                  <div>\r\n                    數量： <br>\r\n                    <div class=\"input-group input-group-sm mb-3\">\r\n                      <button class=\"btn btn-secondary\" type=\"button\" @click=\"updateCartItem(item, -1)\">-</button>\r\n                      <input type=\"number\"\r\n                              onkeypress=\"return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57\"\r\n                              class=\"form-control\" v-model.number=\"item.qty\"\r\n                              @change=\"updateCartItem(item, 0)\">\r\n                      <button class=\"btn btn-secondary\" type=\"button\" @click=\"updateCartItem(item, 1)\">+</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td>\r\n                <button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click=\"removeCartItem(item.id)\" :disabled=\"isLoadingItem===item.id\">\r\n                  刪除\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class=\"text-end mb-3\">\r\n        總金額：<span class=\"text-danger fw-bold\">{{ cartData.total }}</span>元\r\n      </div>\r\n      <div class=\"text-end\">\r\n        <router-link to=\"/cart\" class=\"link-secondary px-2\">\r\n          <button class=\"btn btn-danger\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseExample\">去結帳 <i class=\"bi bi-arrow-right\"></i></button>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport emitter from '@/libs/emitter'\r\n\r\nexport default {\r\n  name: 'FrontCart',\r\n\r\n  data () {\r\n    return {\r\n      cartData: {\r\n        carts: []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getCart () {\r\n      this.$http\r\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\r\n        .then((response) => {\r\n          //   console.log(response);\r\n          this.cartData = response.data.data\r\n        })\r\n        .catch((error) => {\r\n          console.dir(error)\r\n        })\r\n    },\r\n    removeCartItem (id) {\r\n      this.isLoadingItem = id\r\n      this.$http\r\n        .delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`)\r\n        .then((response) => {\r\n          alert(response.data.message)\r\n          this.getCart()\r\n          this.isLoadingItem = ''\r\n        })\r\n        .catch((error) => {\r\n          console.dir(error)\r\n        })\r\n    },\r\n    updateCartItem (item, num) {\r\n      if (item.qty + num === 0) {\r\n        this.removeCartItem(item.id)\r\n        return\r\n      }\r\n      if ((item.qty + num) < 1 || item.qty % 1 !== 0) {\r\n        alert('輸入數量錯誤')\r\n        return\r\n      }\r\n      const data = {\r\n        product_id: item.id,\r\n        qty: item.qty + num\r\n      }\r\n      this.isLoadingItem = item.id\r\n      this.$http\r\n        .put(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${item.id}`, { data })\r\n        .then((response) => {\r\n          // console.log(response)\r\n          this.getCart()\r\n          this.isLoadingItem = ''\r\n        })\r\n        .catch((error) => {\r\n          console.dir(error)\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCart()\r\n    emitter.on('get-cart', () => {\r\n      this.getCart()\r\n    })\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./FrontCart.vue?vue&type=template&id=6e21328b\"\nimport script from \"./FrontCart.vue?vue&type=script&lang=js\"\nexport * from \"./FrontCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Vue-Live-Week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./FrontNavbar.vue?vue&type=template&id=e66e7e62\"\nimport script from \"./FrontNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./FrontNavbar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Vue-Live-Week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./FrontView.vue?vue&type=template&id=a2f72a60\"\nimport script from \"./FrontView.vue?vue&type=script&lang=js\"\nexport * from \"./FrontView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Vue-Live-Week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","class","_createVNode","_component_FrontNavbar","_component_router_view","_createElementVNode","_component_FrontCart","_component_FrontMember","type","id","_createElementBlock","_component_router_link","to","_hoisted_4","$data","href","onClick","$options","data","loggedIn","checkSuccess","methods","checkAdmin","token","document","cookie","replace","this","$http","defaults","headers","common","Authorization","post","then","catch","error","console","dir","logOut","alert","mounted","__exports__","style","role","_hoisted_1","_hoisted_2","_toDisplayString","carts","length","_hoisted_5","_hoisted_6","_hoisted_9","_hoisted_12","_Fragment","_renderList","item","key","height","product","_hoisted_15","src","imageUrl","alt","title","price","origin_price","_hoisted_19","_hoisted_20","_hoisted_23","_hoisted_25","onkeypress","qty","$event","onChange","_hoisted_27","disabled","_ctx","_hoisted_28","total","_hoisted_34","name","cartData","getCart","response","removeCartItem","isLoadingItem","delete","message","updateCartItem","num","product_id","put","components","FrontMember","FrontCart","FrontNavbar","render"],"sourceRoot":""}