{"version":3,"file":"js/50.8a515a75.js","mappings":"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","sources":["webpack://week6/./node_modules/mitt/dist/mitt.mjs","webpack://week6/./src/libs/emitter.js","webpack://week6/./src/views/CartView.vue","webpack://week6/./src/views/CartView.vue?73a2"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt'\r\n\r\nconst emitter = mitt()\r\nexport default emitter\r\n","<template>\r\n  <div class=\"container py-5\">\r\n    <loading :active=\"isLoading\"></loading>\r\n    <h1 class=\"text-center\">購物車</h1>\r\n    <div v-if=\"cartData.carts.length == 0\" class=\"my-5 text-center\">\r\n      <router-link to=\"/products\">\r\n        購物車裡沒有東西！快去逛逛吧！！\r\n      </router-link>\r\n    </div>\r\n    <table class=\"table align-middle\" v-else>\r\n      <thead>\r\n        <tr>\r\n          <th>品名</th>\r\n          <th class=\"text-center\">單價</th>\r\n          <th style=\"width: 150px\">數量</th>\r\n          <th class=\"text-end\">合計</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in cartData.carts\" :key=\"item.id\">\r\n          <td>\r\n            <router-link :to=\"`/product/${item.product.id}`\" class=\"link-dark text-decoration-none d-flex align-items-center\">\r\n              <img :src=\"item.product.imageUrl\" :alt=\"item.product.title\" height=\"100\" class=\"mx-3\">\r\n              <div>\r\n                <h5>{{ item.product.title }}</h5>\r\n                <p>{{ item.product.description }}</p>\r\n              <!-- <div class=\"text-success\">\r\n                已套用優惠券\r\n              </div> -->\r\n              </div>\r\n            </router-link>\r\n          </td>\r\n          <td class=\"text-center\">\r\n            <div v-if=\"item.product.price===item.product.origin_price\">\r\n              {{ item.price }} 元\r\n            </div>\r\n            <div v-else>\r\n              <small>\r\n                <del>{{ item.product.origin_price }} 元</del>\r\n              </small>\r\n              <div>{{ item.product.price }} 元</div>\r\n            </div>\r\n          </td>\r\n          <td>\r\n            <div class=\"input-group mb-3\">\r\n              <button class=\"btn btn-secondary\" type=\"button\" @click=\"updateCartItem(item, -1)\">-</button>\r\n              <input type=\"number\"\r\n                      onkeypress=\"return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57\"\r\n                      class=\"form-control\" v-model.number=\"item.qty\"\r\n                      @change=\"updateCartItem(item, 0)\">\r\n              <button class=\"btn btn-secondary\" type=\"button\" @click=\"updateCartItem(item, 1)\">+</button>\r\n            </div>\r\n            <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\r\n              @click=\"removeCartItem(item.id)\" :disabled=\"isLoadingItem===item.id\">\r\n              刪除\r\n            </button>\r\n          </td>\r\n          <td class=\"text-end\">\r\n            <!-- <small class=\"text-success\">折扣價：</small> -->\r\n            {{ item.total }}\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          <td colspan=\"3\" class=\"text-end\">總計</td>\r\n          <td class=\"text-end\">{{ cartData.total }}</td>\r\n        </tr>\r\n        <tr>\r\n          <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n          <td class=\"text-end text-success\">{{ }}</td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n\r\n    <!-- 表單 -->\r\n    <div class=\"my-5\">\r\n      <h3 class=\"text-center mb-3\">訂購人資訊</h3>\r\n      <div class=\"row justify-content-center\">\r\n        <form-component ref=\"form\" class=\"col-md-6\" v-slot=\"{ errors }\" @submit=\"createOrder\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"email\" class=\"form-label\">Email</label>\r\n            <field-component id=\"email\" name=\"email\" type=\"email\" class=\"form-control\" rules=\"email|required\"\r\n                  :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入 Email\"\r\n                  v-model=\"form.user.email\"></field-component>\r\n            <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n            <field-component id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors['姓名'] }\" placeholder=\"請輸入姓名\" rules=\"required\"\r\n                    v-model=\"form.user.name\"></field-component>\r\n            <error-message name=\"姓名\" class=\"invalid-feedback\"></error-message>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n            <field-component id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors['電話'] }\" placeholder=\"請輸入電話\" :rules=\"isPhone\"\r\n                    v-model=\"form.user.tel\"></field-component>\r\n            <error-message name=\"電話\" class=\"invalid-feedback\"></error-message>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n            <field-component id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors['地址'] }\" placeholder=\"請輸入地址\" rules=\"required\"\r\n                    v-model=\"form.user.address\"></field-component>\r\n            <error-message name=\"地址\" class=\"invalid-feedback\"></error-message>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"message\" class=\"form-label\">留言</label>\r\n            <textarea id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\" v-model=\"form.message\"></textarea>\r\n          </div>\r\n          <div class=\"text-end\">\r\n            <button type=\"submit\" class=\"btn btn-danger\"\r\n                    :disabled=\"Object.keys(errors).length > 0 || cartData.carts.length === 0\">\r\n                    送出訂單\r\n            </button>\r\n          </div>\r\n        </form-component>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from 'vue-loading-overlay'\r\nimport 'vue-loading-overlay/dist/vue-loading.css'\r\nimport emitter from '@/libs/emitter'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      cartData: {\r\n        carts: []\r\n      },\r\n      products: [],\r\n      product: {},\r\n      isLoading: false,\r\n      isLoadingItem: '',\r\n      form: {\r\n        user: {\r\n          email: '',\r\n          name: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    Loading\r\n  },\r\n  methods: {\r\n    getCart () {\r\n      this.$http\r\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\r\n        .then((response) => {\r\n          // console.log(response)\r\n          this.cartData = response.data.data\r\n          emitter.emit('get-cart')\r\n        })\r\n        .catch((error) => {\r\n          console.dir(error)\r\n        })\r\n    },\r\n    removeCartItem (id) {\r\n      this.isLoadingItem = id\r\n      this.$http\r\n        .delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`)\r\n        .then((response) => {\r\n          alert(response.data.message)\r\n          this.getCart()\r\n          this.isLoadingItem = ''\r\n        })\r\n        .catch((error) => {\r\n          console.dir(error)\r\n        })\r\n    },\r\n    updateCartItem (item, num) {\r\n      if (item.qty + num === 0) {\r\n        this.removeCartItem(item.id)\r\n        return\r\n      }\r\n      if ((item.qty + num) < 1 || item.qty % 1 !== 0) {\r\n        alert('輸入數量錯誤')\r\n        return\r\n      }\r\n      const data = {\r\n        product_id: item.id,\r\n        qty: item.qty + num\r\n      }\r\n      this.isLoadingItem = item.id\r\n      this.$http\r\n        .put(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${item.id}`, { data })\r\n        .then((response) => {\r\n          alert(response.data.message)\r\n          this.getCart()\r\n          this.isLoadingItem = ''\r\n        })\r\n        .catch((error) => {\r\n          console.dir(error)\r\n        })\r\n    },\r\n    createOrder () {\r\n      this.isLoading = true\r\n      setTimeout(() => {\r\n        this.isLoading = false\r\n      }, 1000)\r\n\r\n      const order = {\r\n        data: this.form\r\n      }\r\n      this.$http\r\n        .post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`, order)\r\n        .then((response) => {\r\n          // console.log(response.data)\r\n          alert(\r\n            `${response.data.message}：訂單ID為${response.data.orderId}，總金額為${response.data.total}元`\r\n          )\r\n          this.$refs.form.resetForm()\r\n          this.form.message = ''\r\n          this.getCart()\r\n        })\r\n        .catch((error) => {\r\n          console.dir(error)\r\n        })\r\n    },\r\n\r\n    isPhone (value) {\r\n      const phoneNumber = /^(09)[0-9]{8}$/\r\n      return phoneNumber.test(value) ? true : '電話格式錯誤'\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  input::-webkit-outer-spin-button,\r\n  input::-webkit-inner-spin-button {\r\n    display: none;\r\n  }\r\n</style>\r\n","import { render } from \"./CartView.vue?vue&type=template&id=362b23b6\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport \"./CartView.vue?vue&type=style&index=0&id=362b23b6&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Vue-Live-Week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","class","_createElementVNode","style","colspan","for","_createElementBlock","_createVNode","_component_loading","active","$data","_hoisted_2","carts","length","_component_router_link","to","_hoisted_6","_Fragment","_renderList","item","key","id","product","src","imageUrl","alt","title","height","_toDisplayString","description","price","origin_price","_hoisted_9","_hoisted_10","type","onClick","$options","_hoisted_12","onkeypress","qty","$event","onChange","_hoisted_14","disabled","_hoisted_15","total","_hoisted_17","_hoisted_19","_hoisted_22","_component_form_component","ref","onSubmit","errors","_hoisted_25","_component_field_component","name","rules","placeholder","user","email","_component_error_message","_hoisted_27","_hoisted_29","tel","_hoisted_31","address","_hoisted_33","cols","rows","message","Object","keys","_hoisted_35","data","cartData","products","isLoading","isLoadingItem","form","components","Loading","methods","getCart","this","$http","then","response","catch","error","console","dir","removeCartItem","delete","alert","updateCartItem","num","product_id","put","createOrder","setTimeout","order","post","orderId","$refs","resetForm","isPhone","value","phoneNumber","test","mounted","__exports__","render"],"sourceRoot":""}